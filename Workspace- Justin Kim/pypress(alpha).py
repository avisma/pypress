# pypress.py# Designed by Ben Underwood and Justin Kim# A version of Letterpress for Python# Original game designed and published by atebitsfrom graphics import *import stringimport randomimport lib_button as buttonfrom time import sleepPLAYER_ONE_COLOR = "cyan"PLAYER_TWO_COLOR = "goldenrod"def drawWin():    win = GraphWin("PyPress.py", 700, 600)    win.setCoords(0, 0, 700, 600)    return windef drawBoard(win):    box = [""] * 25    letters = []    upLeft = Point(100, 500)    downRight = Point(150, 450)    width = 100# downRight.getX() - upLeft.getX()    height = 100# upLeft.getY() - downRight.getY()    center = Point(150, 50) ##Revert if needed##    for i in range(25): # Draw Buttons        box[i] = button.Button(win, center, width, height, str(box[i]))         if not i in [4, 9, 14, 19]:            if round(center.getX()) in [150, 350, 550]:                center.move(0, 100)            else:                center.move(0, -100)        else:            center.move(100, 0)                return boxdef initTiles(box, win):        for i in range(25): # Label buttons        letters.append(random.choice(string.ascii_uppercase))        box[i].label.setSize(20)        box[i].label.setText(letters[i])        box[i].activate()    submit = False    submitButton = button.Button(win, Point(650, 550), 70, 30, "submit!")    submitButton.activate()    return submit, submitButtondef setAllActive(ButtonList):    for i in ButtonList:        i.activate()        i.setFill('light gray', 'light gray')def setAllInactive(ButtonList):    for i in ButtonList:        i.deactivate()        i.setFill('light gray', 'light gray')        def undrawAll(chosenLetterButtons):    try:        chosenLetterButtons[0:len(chosenLetterButtons) - 1].undraw##        for i in range(len(chosenLetterButtons)):##            chosenLetterButtons[i].undraw()    except AttributeError:        passdef turnSwitch():    global color    global lastColor        if color == PLAYER_ONE_COLOR:        color = PLAYER_TWO_COLOR        lastColor = PLAYER_ONE_COLOR    elif color == PLAYER_TWO_COLOR:        color = PLAYER_ONE_COLOR        lastColor = PLAYER_TWO_COLOR    time.sleep(1)def makeScore(chosenLetters):    letterList = []    global p1Scores    global p2Scores    global blueLetters    global redLetters    for i in range(len(chosenLetters)):        letterList.append(chosenLetters[i])    if color == PLAYER_ONE_COLOR:        blueLetters = blueLetters + letterList        for i in wasClicked:            p1Scores[i] = wasClicked[i]    elif color == PLAYER_TWO_COLOR:        redLetters = redLetters + letterList        for i in wasClicked:            p2Scores[i] = wasClicked[i]    print(letterList)    print(blueLetters, redLetters)    print(p1Scores)    print(p2Scores)def isClicked(click, box):    global wasClicked    global oldColor    #print(oldColor)    totalButtonClicks = [0] * 25    boxClicked = None        #global lastColor    #print(lastColor)    for i in range(25):        if box[i].clicked(click):            letter = box[i].getLabel()            box[i].deactivate()            oldColor[i] = lastColor            box[i].setFill(color, color)            boxClicked = i            wasClicked[i] = True            totalButtonClicks[i] = totalButtonClicks[i] + 1 # :D    if boxClicked == None:        letter = None    return letter, boxClickeddef addLetters(letter, boxClicked, blueLetters, redLetters):    global letters    try:        if letters[boxClicked] != None:                        print("\nRemoving", letters[boxClicked], "from 'letters'")            print("\nLocation:", boxClicked, '\n')                        letters[boxClicked] = None                    else:            print("valueError... Redirecting...")            if color == PLAYER_ONE_COLOR:                try:                    if p1Scores[boxClicked]:                        blueLetters.remove(letter)                        print("First Player clicked their own letter.")                    else:                        print("Removing from Second Player")                        redLetters.remove(letter)                        print("removed letter from First Player")                except ValueError:                    if letter in blueLetters:                        print("Never mind")                        blueLetters.remove(letter) # See below comment                        pass            elif color == PLAYER_TWO_COLOR:                try:                    if p2Scores[boxClicked]:                        redLetters.remove(letter)                        print("Second Player clicked their own letter.")                    else:                        print("Removing from First Player.")                        blueLetters.remove(letter)                        print('removed letter from First Player')                except ValueError:                    if letter in redLetters:                        print("Never mind")                        redLetters.remove(letter) #At this point, the                                            # letter has already been                                            # added to 'chosenLetters'.                                            # Removing the existing                                            # letter from the list                                            # prevents the program from                                            # duplicating the letter,                                            # as the letter will be                                            # re-added as part of the                                            # new word.                        pass            else: print('What? Neither Player scored!\n\n',letters)    except IndexError:        print("Index Error, Redirecting...")        print(letters)        print(len(letters))def main():    win = drawWin()        global letters    global wasClicked    global p1Scores    global p2Scores    global blueLetters    global redLetters    letters = []        box = drawBoard(win)        p1Scores = [False] * 25    p2Scores = [False] * 25    wasClicked = [False] * 25        submit, submitButton = initTiles(box, win)    chosenLetters = []    drawChosenLetters = Text(Point(350, 550), chosenLetters) # Replaced with buttons    drawChosenLetters.setSize(20)    drawChosenLetters.draw(win)    resetButton = button.Button(win, Point(350, 515), 100, 20, "reset")    resetButton.activate()    global color    global lastColor    global oldColor    color = PLAYER_ONE_COLOR    lastColor = "light gray" # Mark out in future.    oldColor = [None] * 25        testCount = 0    submit = False    invalidText = Text(Point(650, 515), "Not a valid word!")    redLetters = []    blueLetters = []    chosenLetterButtons = [None] * 25           while (len(redLetters) + len(blueLetters)) < 25: # Game is not over        while True:            click = win.getMouse()            wordlist = open("wordlist.txt")                        if submitButton.clicked(click):                                while None in chosenLetters:                    chosenLetters.remove(None)                                    if "".join(chosenLetters).lower() not in wordlist.read():                    invalidText.draw(win)                    print(chosenLetters)                    print("\nNot Valid Break\n")                    break                                                      else:                    submitButton.deactivate()                    print("\nSubmitting and Ending Turn...\n")                    break # loop exit            wordlist.close()            if resetButton.clicked(click):                chosenLetters = []                drawChosenLetters.setText(chosenLetters)                wasClicked = [False] * 25                setAllActive(box)                            letter, boxClicked = isClicked(click, box)                        if letter != None:                                chosenLetters.append(letter) # = chosenLetters + letter # Adds letters to 'chosenLetters'                invalidText.undraw()                chosenLettersLeftBoundX = 350 - (50 * len(chosenLetters))                ##                for i in range(len(chosenLetters)):##                    print('Letters =', chosenLetters)##                    undrawAll(chosenLetterButtons)##                    #chosenLetterButtons[i] = button.Button(win, Point(0, 0), 0, 0, 0)##                    chosenLetterButtons[i] = button.Button(win, Point(chosenLettersLeftBoundX + (i * 50), 550), 50, 50, chosenLetters[i])##                    #chosenLetterButtons.append(letterButton)##                    chosenLetterButtons[i].activate()                addLetters(letter, boxClicked, blueLetters, redLetters)##            else: # letter == None####                for i in range(len(chosenLetters)):##                    ##                    if chosenLetterButtons[i].clicked(click):##                        print("Removing", chosenLetters[i])##                        chosenLetters[i] = None##                        print("New List:\n", chosenLetters)##                        chosenLetterButtons[i].undraw()##                        chosenLetterButtons[i] = None                drawChosenLetters.setText(chosenLetters)##                chosenLettersLeftBoundX = 350 - (50 * len(chosenLetters))##                for i in range(len(chosenLetters)):##                    chosenLetterButtons = button.Button(win, Point(0, 0), 0, 0, 0)##                    chosenLetterButtons = button.Button(win, Point(chosenLettersLeftBoundX + (i * 50), 550), 50, 50, chosenLetters[i])##                    chosenLetterButtons.activate()        letterList = makeScore(chosenLetters)        print(blueLetters, redLetters)                    turnSwitch()        chosenLetters = []        wasClicked = [False] * 25        drawChosenLetters.setText(chosenLetters)        print("\n" + "-" * 20, "Switching Turns", "-" * 20 + "\n")        testCount = testCount + 1        submit = True        submitButton.activate()        setAllActive(box)    print("Finished!")    print(letters)    print(len(blueLetters), len(redLetters))    print(len(letters))    print("Exiting...")    win.getMouse()    win.close()if __name__ == "__main__":    main()